import sys
import pytesseract
from PIL import Image
from deep_translator import GoogleTranslator

def textToImage(argv):
	img = Image.open(argv)
	pytesseract.pytesseract.tesseract_cmd =r'C:\Users\User\anaconda3\envs\tesseract\Library\bin\tesseract.exe'   
	result = pytesseract.image_to_string(img)
	result = GoogleTranslator(source='auto', target='ro').translate(result);  

	return result

def createListaCumparaturi():
	text = textToImage(sys.argv[1])
	text = text.split("\n")
	print(text)

	produse = []
	cantitate = []

	for i in text:
		for chr in i:
			if chr.isdigit():
				index = i.rfind(chr)
				produse.append(i[0:index])
				cantitate.append(i[index:(len(i))])
				break

	produseANDcantitate = []
	produseANDcantitate.append(produse)
	produseANDcantitate.append(cantitate)
	return produseANDcantitate

createListaCumparaturi()